zstyle ':znap:*' repos-dir ~/znap
source ~/repos/zsh-snap/znap.zsh
# plugins 

# starship 
export SPACESHIP_PROMPT_ASYNC=FALSE
#znap eval starship 'starship init zsh --print-full-init'
#znap prompt

znap source marlonrichert/zsh-autocomplete

zstyle ':autocomplete:*' min-input 1

znap source zsh-users/zsh-autosuggestions
znap source zsh-users/zsh-completions


# User configuration

# export MANPATH="/usr/local/man:$MANPATH"

# You may need to manually set your language environment
# export LANG=en_US.UTF-8

# Preferred editor for local and remote sessions
if [[ -n $SSH_CONNECTION ]]; then
  export EDITOR='vim'
else
  export EDITOR='nvim'
fi

# Compilation flags
# export ARCHFLAGS="-arch x86_64"

# Aliases
alias ls="exa"
alias tree="exa --tree"

# change cat to bat
alias cat="bat"

# vim to nvim
alias vim="nvim"
alias vi="nvim"

# codium to code
alias code="code-insiders"
alias c="code-insiders"
alias cn="code-insiders ."

# cd to z
alias cd="z"

export VOLTA_HOME="$HOME/.volta"
export PATH="$VOLTA_HOME/bin:$PATH"

# tabtab source for packages
# uninstall by removing these lines
[[ -f ~/.config/tabtab/zsh/__tabtab.zsh ]] && . ~/.config/tabtab/zsh/__tabtab.zsh || true

# bun completions
[ -s "/Users/rileysmith/.bun/_bun" ] && source "/Users/rileysmith/.bun/_bun"

# bun
export BUN_INSTALL="/Users/rileysmith/.bun"
export PATH="$BUN_INSTALL/bin:$PATH"

# zoxide
eval "$(zoxide init zsh)"

eval "$(starship init zsh)"

if [[ $TERM_PROGRAM != "WarpTerminal" ]]; then
  test -e "${HOME}/.iterm2_shell_integration.zsh" && source "${HOME}/.iterm2_shell_integration.zsh"
fi

(
if ! ssh-add -l >/dev/null 2>&1; then
   ssh-add --apple-load-keychain >/dev/null 2>&1
fi &
)

#znap function _sshadd ssh 'eval "$(ssh-add --apple-load-keychain)"'
# compctl -K _sshadd ssh

source /Users/riley/.docker/init-zsh.sh || true # Added by Docker Desktop
